FamiliarCostumeData = {
    FamiliarCostume_FrogBrown =
	{
		Icon = _PLUGIN.guid .. "frog_brown",
		InheritFrom = { "DefaultFamiliarCostume" },
		GrannyModel = "Frog_Mesh",
        GrannyTexture = "zerp-FamiliarCostume/frog/CritterFrogBrown_Color",

		Cost =
		{
			CosmeticsPoints = 100,
		},

		PreRevealVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarFrogCostumeUnlocked" },
			{ GlobalVoiceLines = "FamiliarMiscCostumeUnlocked" }
		},
		SwitchCostumeVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarFrogSwitchCostumeVoiceLines" },
			{ GlobalVoiceLines = "FamiliarMiscSwitchCostumeVoiceLines" },
		},
	},

    FamiliarCostume_FrogGreen =
	{
		Icon = _PLUGIN.guid .. "frog_green",
		InheritFrom = { "DefaultFamiliarCostume" },
		GrannyModel = "Frog_Mesh",
        GrannyTexture = "zerp-FamiliarCostume/frog/CritterFrogGreen_Color",

		Cost =
		{
			CosmeticsPoints = 100,
		},

		PreRevealVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarFrogCostumeUnlocked" },
			{ GlobalVoiceLines = "FamiliarMiscCostumeUnlocked" }
		},
		SwitchCostumeVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarFrogSwitchCostumeVoiceLines" },
			{ GlobalVoiceLines = "FamiliarMiscSwitchCostumeVoiceLines" },
		},
	},

    FamiliarCostume_FrogGrey =
	{
		Icon = _PLUGIN.guid .. "frog_grey",
		InheritFrom = { "DefaultFamiliarCostume" },
		GrannyModel = "Frog_Mesh",
        GrannyTexture = "zerp-FamiliarCostume/frog/CritterFrogGrey_Color",

		Cost =
		{
			CosmeticsPoints = 100,
		},

		PreRevealVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarFrogCostumeUnlocked" },
			{ GlobalVoiceLines = "FamiliarMiscCostumeUnlocked" }
		},
		SwitchCostumeVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarFrogSwitchCostumeVoiceLines" },
			{ GlobalVoiceLines = "FamiliarMiscSwitchCostumeVoiceLines" },
		},
	},

    FamiliarCostume_FrogYellow =
	{
		Icon = _PLUGIN.guid .. "frog_yellow",
		InheritFrom = { "DefaultFamiliarCostume" },
		GrannyModel = "Frog_Mesh",
        GrannyTexture = "zerp-FamiliarCostume/frog/CritterFrogYellow_Color",

		Cost =
		{
			CosmeticsPoints = 100,
		},

		PreRevealVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarFrogCostumeUnlocked" },
			{ GlobalVoiceLines = "FamiliarMiscCostumeUnlocked" }
		},
		SwitchCostumeVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarFrogSwitchCostumeVoiceLines" },
			{ GlobalVoiceLines = "FamiliarMiscSwitchCostumeVoiceLines" },
		},
	},

    FamiliarCostume_HoundBeige =
	{
		Icon = _PLUGIN.guid .. "hound_beige",
		InheritFrom = { "DefaultFamiliarCostume" },
		GrannyModel = "HoundFamiliar_Mesh",
        GrannyTexture = "zerp-FamiliarCostume/hound/CritterDogBeige_Color",

		Cost =
		{
			CosmeticsPoints = 100,
		},

		PreRevealVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarHoundCostumeUnlocked" },
			{ GlobalVoiceLines = "FamiliarMiscCostumeUnlocked" }
		},
		SwitchCostumeVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarHoundSwitchCostumeVoiceLines" },
			{ GlobalVoiceLines = "FamiliarMiscSwitchCostumeVoiceLines" },
		},
	},

    FamiliarCostume_HoundTan =
	{
		Icon = _PLUGIN.guid .. "hound_tan",
		InheritFrom = { "DefaultFamiliarCostume" },
		GrannyModel = "HoundFamiliar_Mesh",
        GrannyTexture = "zerp-FamiliarCostume/hound/CritterDogTan_Color",

		Cost =
		{
			CosmeticsPoints = 100,
		},

		PreRevealVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarHoundCostumeUnlocked" },
			{ GlobalVoiceLines = "FamiliarMiscCostumeUnlocked" }
		},
		SwitchCostumeVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarHoundSwitchCostumeVoiceLines" },
			{ GlobalVoiceLines = "FamiliarMiscSwitchCostumeVoiceLines" },
		},
	},

    FamiliarCostume_HoundOrange =
	{
		Icon = _PLUGIN.guid .. "hound_orange",
		InheritFrom = { "DefaultFamiliarCostume" },
		GrannyModel = "HoundFamiliar_Mesh",
        GrannyTexture = "zerp-FamiliarCostume/hound/CritterDogOrange_Color",

		Cost =
		{
			CosmeticsPoints = 100,
		},

		PreRevealVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarHoundCostumeUnlocked" },
			{ GlobalVoiceLines = "FamiliarMiscCostumeUnlocked" }
		},
		SwitchCostumeVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarHoundSwitchCostumeVoiceLines" },
			{ GlobalVoiceLines = "FamiliarMiscSwitchCostumeVoiceLines" },
		},
	},

    FamiliarCostume_RavenBlack =
	{
		Icon = "Costume_Raven02",
		InheritFrom = { "DefaultFamiliarCostume" },
		GrannyModel = "CritterRaven_Mesh",
        GrannyTexture = "zerp-FamiliarCostume/raven/CritterRavenBlack_Color",

		Cost =
		{
			CosmeticsPoints = 100,
		},

		PreRevealVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarRavenCostumeUnlocked" },
			{ GlobalVoiceLines = "FamiliarMiscCostumeUnlocked" }
		},
		SwitchCostumeVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarRavenSwitchCostumeVoiceLines" },
			{ GlobalVoiceLines = "FamiliarMiscSwitchCostumeVoiceLines" },
		},
	},

	FamiliarCostume_RavenGreen =
	{
		Icon = _PLUGIN.guid .. "bird_green",
		InheritFrom = { "DefaultFamiliarCostume" },
		GrannyModel = "RavenFamiliar_Mesh",
        GrannyTexture = "zerp-FamiliarCostume/raven/DefaultRavenGreen_Color",

		Cost =
		{
			CosmeticsPoints = 100,
		},

		PreRevealVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarRavenCostumeUnlocked" },
			{ GlobalVoiceLines = "FamiliarMiscCostumeUnlocked" }
		},
		SwitchCostumeVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarRavenSwitchCostumeVoiceLines" },
			{ GlobalVoiceLines = "FamiliarMiscSwitchCostumeVoiceLines" },
		},
	},

    FamiliarCostume_CatBicolor =
	{
		Icon = _PLUGIN.guid .. "cat_bicolor",
		InheritFrom = { "DefaultFamiliarCostume" },
		GrannyModel = "CatFamiliar_Mesh",
        GrannyTexture = "zerp-FamiliarCostume/cat/CritterCatBicolor_Color",

		Cost =
		{
			CosmeticsPoints = 100,
		},

		PreRevealVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarCatCostumeUnlocked" },
			{ GlobalVoiceLines = "FamiliarMiscCostumeUnlocked" }
		},
		SwitchCostumeVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarCatSwitchCostumeVoiceLines" },
			{ GlobalVoiceLines = "FamiliarMiscSwitchCostumeVoiceLines" },
		},
	},

    FamiliarCostume_CatBlack =
	{
		Icon = _PLUGIN.guid .. "cat_black",
		InheritFrom = { "DefaultFamiliarCostume" },
		GrannyModel = "CatFamiliar_Mesh",
        GrannyTexture = "zerp-FamiliarCostume/cat/CritterCatBlack_Color",

		Cost =
		{
			CosmeticsPoints = 100,
		},

		PreRevealVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarCatCostumeUnlocked" },
			{ GlobalVoiceLines = "FamiliarMiscCostumeUnlocked" }
		},
		SwitchCostumeVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarCatSwitchCostumeVoiceLines" },
			{ GlobalVoiceLines = "FamiliarMiscSwitchCostumeVoiceLines" },
		},
	},

    FamiliarCostume_CatSpotted =
	{
		Icon = _PLUGIN.guid .. "cat_spotted",
		InheritFrom = { "DefaultFamiliarCostume" },
		GrannyModel = "CatFamiliar_Mesh",
        GrannyTexture = "zerp-FamiliarCostume/cat/CritterCatSpotted_Color",

		Cost =
		{
			CosmeticsPoints = 100,
		},

		PreRevealVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarCatCostumeUnlocked" },
			{ GlobalVoiceLines = "FamiliarMiscCostumeUnlocked" }
		},
		SwitchCostumeVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarCatSwitchCostumeVoiceLines" },
			{ GlobalVoiceLines = "FamiliarMiscSwitchCostumeVoiceLines" },
		},
	},

    FamiliarCostume_CatTabby =
	{
		Icon = _PLUGIN.guid .. "cat_tabby",
		InheritFrom = { "DefaultFamiliarCostume" },
		GrannyModel = "CatFamiliar_Mesh",
        GrannyTexture = "zerp-FamiliarCostume/cat/CritterCatTabby_Color",

		Cost =
		{
			CosmeticsPoints = 100,
		},

		PreRevealVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarCatCostumeUnlocked" },
			{ GlobalVoiceLines = "FamiliarMiscCostumeUnlocked" }
		},
		SwitchCostumeVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarCatSwitchCostumeVoiceLines" },
			{ GlobalVoiceLines = "FamiliarMiscSwitchCostumeVoiceLines" },
		},
	},

    FamiliarCostume_CatTuxedo =
	{
		Icon = _PLUGIN.guid .. "cat_tuxedo",
		InheritFrom = { "DefaultFamiliarCostume" },
		GrannyModel = "CatFamiliar_Mesh",
        GrannyTexture = "zerp-FamiliarCostume/cat/CritterCatTuxedo_Color",

		Cost =
		{
			CosmeticsPoints = 100,
		},

		PreRevealVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarCatCostumeUnlocked" },
			{ GlobalVoiceLines = "FamiliarMiscCostumeUnlocked" }
		},
		SwitchCostumeVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarCatSwitchCostumeVoiceLines" },
			{ GlobalVoiceLines = "FamiliarMiscSwitchCostumeVoiceLines" },
		},
	},

    FamiliarCostume_CatWhite =
	{
		Icon = _PLUGIN.guid .. "cat_white",
		InheritFrom = { "DefaultFamiliarCostume" },
		GrannyModel = "CatFamiliar_Mesh",
        GrannyTexture = "zerp-FamiliarCostume/cat/CritterCatWhite_Color",

		Cost =
		{
			CosmeticsPoints = 100,
		},

		PreRevealVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarCatCostumeUnlocked" },
			{ GlobalVoiceLines = "FamiliarMiscCostumeUnlocked" }
		},
		SwitchCostumeVoiceLines =
		{
			{ GlobalVoiceLines = "FamiliarCatSwitchCostumeVoiceLines" },
			{ GlobalVoiceLines = "FamiliarMiscSwitchCostumeVoiceLines" },
		},
	},
}

game.OverwriteTableKeys( game.WorldUpgradeData, FamiliarCostumeData)

mod.FamiliarList = {
    ItemCategories = {
        FrogFamiliar = {
            "FamiliarCostume_FrogBrown",
            "FamiliarCostume_FrogGreen",
            "FamiliarCostume_FrogGrey",
            "FamiliarCostume_FrogYellow",
        },
        CatFamiliar = {
            "FamiliarCostume_CatBicolor",
            "FamiliarCostume_CatBlack",
            "FamiliarCostume_CatSpotted",
            "FamiliarCostume_CatTabby",
            "FamiliarCostume_CatTuxedo",
            "FamiliarCostume_CatWhite",
        },
        RavenFamiliar =
		{
			"FamiliarCostume_RavenBlack",
			"FamiliarCostume_RavenGreen",
        },
        HoundFamiliar =
		{
			"FamiliarCostume_HoundBeige",
            "FamiliarCostume_HoundOrange",
            "FamiliarCostume_HoundTan",
        }
    }
}

for familiar, familiarCostumeList in pairs(mod.FamiliarList.ItemCategories) do
    for _, familiarCostume in ipairs(familiarCostumeList) do
        table.insert(game.ScreenData.FamiliarCostumeShop.ItemCategories[familiar], familiarCostume)
    end
end

mod.FamiliarMenuData = {
    ItemStartX = 515,
	ItemStartY = 150,
	ItemSpacingY = 60,
	IconOffsetX = -388,
	IconOffsetY = -1,
	IconScale = 0.5,
	ItemsPerPage = 11,

	PinOffsetX = 265,

    ItemAvailableAnimation = "MusicPlayerItemButton",
	ItemAvailableMouseOverAnimation = "MusicPlayerItemNowPlaying",
	ItemAvailableMouseOffAnimation = "MusicPlayerItemButton",

    ItemAvailableAffordableNameFormat =
	{
		OffsetX = -320,
		FontSize = 16,
        ScaleY = 0.5
    },

    ItemAvailableUnaffordableNameFormat =
	{
		OffsetX = -320,
		FontSize = 16,
        ScaleY = 0.5
    },

    ItemPurchasedNameFormat =
	{
		OffsetX = -320,
		FontSize = 16,
        ScaleY = 0.5
    },

    CostDisplay =
	{
		StartX = 1200,
		StartY = 150,
		SpacerX = 160,
		InventoryAmountOffsetY = 90,
		ResourceIconOffsetY = -5,
		ResourceIconScale = 1.1,
		InventoryIconOffsetX = -25,
		InventoryIconScale = 0.45,
	},
}

game.ScreenData.FamiliarCostumeShop = game.DeepMergeTables(game.ScreenData.FamiliarCostumeShop, mod.FamiliarMenuData)

game.ScreenData.FamiliarCostumeShop.ComponentData.ActionBar.ChildrenOrder = {
	"CloseButton",
	"SelectButton",
	"PinButton",
	"RandomizeButton",
	"FavoriteButton"
}

game.ScreenData.FamiliarCostumeShop.ComponentData.ActionBar.Children.FavoriteButton = {
	Graphic = "ContextualActionButton",
	GroupName = "Combat_Menu_Overlay",
	Alpha = 1,
	Data =
	{
		-- Hotkey only
		OnPressedFunctionName = _PLUGIN.guid .. "." .. "ToggleFavoriteFamiliarCostume",
		ControlHotkeys = { "Inventory", },
	},
	Text = "{V} ADD/REMOVE FAVORITE",
	TextArgs = game.UIData.ContextualButtonFormatRight,
}

game.ScreenData.FamiliarCostumeShop.ComponentData.ActionBar.Children.RandomizeButton = {
	Graphic = "ContextualActionButton",
	GroupName = "Combat_Menu_Overlay",
	Alpha = 1,
	Data =
	{
		-- Hotkey only
		OnPressedFunctionName = _PLUGIN.guid .. "." .. "ToggleRandomizeFamiliarCostume",
		OnMouseOverFunctionName = "MouseOverContextualAction",
		OnMouseOffFunctionName = "MouseOffContextualAction",
		ControlHotkeys = { "Confirm", },
	},
	Text = "{CF} RANDOMIZE",
	TextArgs = game.UIData.ContextualButtonFormatRight,
}

game.ProcessDataStore(game.WorldUpgradeData)